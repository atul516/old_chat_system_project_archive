/*Script Name: validate.js
  Created By: http://www.TalkToX.com/
  Email: admin@talktox.com
*/
function validate_login_form() { if(validate_nick(document.login.nick) && validate_interests(document.login.aboutyou,1) && validate_interests(document.login.thingstotalk,2)) submit_login_form(); return false; } function validate_nick(str) { var error = ""; var allowed = /\W/; if (str.value == "") { str.style.backgroundColor = 'Yellow'; error = "You didn't enter a nickname."; } else if ((str.value.length < 4) || (str.value.length > 15)) { str.style.backgroundColor= 'Yellow'; error = "The nick's length should be more than 3 and less than 15."; } else if (allowed.test(str.value)) { str.style.backgroundColor= 'Yellow'; error = "Nickname can only contain a-z,A-Z,0-9 & underscore"; } else { str.style.backgroundColor= "#c6c6c6"; } if(error) { document.getElementById("reply").innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return false; } else { document.getElementById("reply").innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return true; } } function validate_interests(str,flag) { var error = ""; if (str.value.length > 200) { str.style.backgroundColor = 'Yellow'; error = "The length of the text should not be more than 200 words."; } else { str.style.backgroundColor = "#c6c6c6"; } if(error) { document.getElementById("reply"+flag).innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return false; } else { document.getElementById("reply"+flag).innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return true; } } function validate_feedback_form() { if(validate_feedback(document.feedbackform.feedback_text,3) && validate_feedback(document.feedbackform.email,4)) submit_feedback_form(document.feedbackform.feedback_text.value,document.feedbackform.email.value); return false; } function validate_feedback(str,flag) { var error = ""; if(flag == 3) { if (str.value.length > 200 || str.value.length == 0) { str.style.backgroundColor = 'Yellow'; error = "The feedback text length should be more than 0 and less than 200 words"; } else str.style.backgroundColor = "#c6c6c6"; } if(flag == 4) { var a = str.value.indexOf('@'); var b = str.value.indexOf('.'); var c = str.value.indexOf(' '); if(str.value.length != 0 && str.value != "Your Email Address") { if (str.value.length > 60) { str.style.backgroundColor= 'Yellow'; error = "The length of the E-mail should not be more than 60 words."; } else if (a ==-1 || a==0 || str.value.lastIndexOf('@')==str.value.length-1 || str.value.indexOf('.',(a+2))==-1){ str.style.backgroundColor= 'Yellow'; error = "Invalid E-mail ID."; } else if (b==-1 || b==0 || str.value.lastIndexOf('.')==str.value.length-1 || c!=-1){ str.style.backgroundColor = 'Yellow'; error = "Invalid E-mail ID."; } else if (str.value.substring(a-1,a)=='.' || str.value.substring(a+1,a+2)=='.') { str.style.backgroundColor = 'Yellow'; error = "Invalid E-mail ID."; } else str.style.backgroundColor = "#c6c6c6"; } else str.style.backgroundColor = "#c6c6c6"; } if(error) { document.getElementById("reply"+flag).innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return false; } else { document.getElementById("reply"+flag).innerHTML = '<span style="color:red;font-size: 12px;">'+error+'</span>'; return true; } } 
